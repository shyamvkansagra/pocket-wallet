{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { randomArrayItem } from './random-generator';\nexport const addTreeDataOptionsToDemoData = (data, options = {}) => {\n  var _groupingCol$headerNa;\n  const {\n    averageChildren = 2,\n    maxDepth = 1,\n    groupingField\n  } = options;\n  const hasTreeData = maxDepth > 1 && groupingField != null;\n  if (!hasTreeData) {\n    return data;\n  }\n  if (data.rows.length > 1000) {\n    throw new Error('MUI: useDemoData tree data mode only works up to 1000 rows.');\n  }\n  const rowsByTreeDepth = {};\n  const rowsCount = data.rows.length;\n  const groupingCol = data.columns.find(col => col.field === options.groupingField);\n  if (!groupingCol) {\n    throw new Error('MUI: The tree data grouping field does not exist');\n  }\n  data.initialState.columns.columnVisibilityModel[groupingField] = false;\n  for (let i = 0; i < rowsCount; i += 1) {\n    const row = data.rows[i];\n    const currentChunk = Math.floor(i * (averageChildren ** maxDepth - 1) / rowsCount) + 1;\n    const currentDepth = Math.floor(Math.log(currentChunk) / Math.log(averageChildren));\n    if (!rowsByTreeDepth[currentDepth]) {\n      rowsByTreeDepth[currentDepth] = {\n        rows: {},\n        rowIndexes: []\n      };\n    }\n    rowsByTreeDepth[currentDepth].rows[i] = {\n      value: row,\n      parentIndex: null\n    };\n    rowsByTreeDepth[currentDepth].rowIndexes.push(i);\n  }\n  Object.entries(rowsByTreeDepth).forEach(([depthStr, {\n    rows\n  }]) => {\n    const depth = Number(depthStr);\n    Object.values(rows).forEach(row => {\n      const path = [];\n      let previousRow = null;\n      for (let k = depth; k >= 0; k -= 1) {\n        let rowTemp;\n        if (k === depth) {\n          if (depth > 0) {\n            row.parentIndex = Number(randomArrayItem(rowsByTreeDepth[depth - 1].rowIndexes));\n          }\n          rowTemp = row;\n        } else {\n          rowTemp = rowsByTreeDepth[k].rows[previousRow.parentIndex];\n        }\n        path.unshift(rowTemp.value[groupingField]);\n        previousRow = rowTemp;\n      }\n      row.value.path = path;\n    });\n  });\n  return _extends({}, data, {\n    groupingColDef: {\n      headerName: (_groupingCol$headerNa = groupingCol.headerName) != null ? _groupingCol$headerNa : groupingCol.field,\n      width: 250\n    },\n    getTreeDataPath: row => row.path,\n    treeData: true\n  });\n};","map":{"version":3,"names":["_extends","randomArrayItem","addTreeDataOptionsToDemoData","data","options","_groupingCol$headerNa","averageChildren","maxDepth","groupingField","hasTreeData","rows","length","Error","rowsByTreeDepth","rowsCount","groupingCol","columns","find","col","field","initialState","columnVisibilityModel","i","row","currentChunk","Math","floor","currentDepth","log","rowIndexes","value","parentIndex","push","Object","entries","forEach","depthStr","depth","Number","values","path","previousRow","k","rowTemp","unshift","groupingColDef","headerName","width","getTreeDataPath","treeData"],"sources":["/Users/shyamkansagra/Documents/Code/general/pocket-wallet/node_modules/@mui/x-data-grid-generator/services/tree-data-generator.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { randomArrayItem } from './random-generator';\nexport const addTreeDataOptionsToDemoData = (data, options = {}) => {\n  var _groupingCol$headerNa;\n  const {\n    averageChildren = 2,\n    maxDepth = 1,\n    groupingField\n  } = options;\n  const hasTreeData = maxDepth > 1 && groupingField != null;\n  if (!hasTreeData) {\n    return data;\n  }\n  if (data.rows.length > 1000) {\n    throw new Error('MUI: useDemoData tree data mode only works up to 1000 rows.');\n  }\n  const rowsByTreeDepth = {};\n  const rowsCount = data.rows.length;\n  const groupingCol = data.columns.find(col => col.field === options.groupingField);\n  if (!groupingCol) {\n    throw new Error('MUI: The tree data grouping field does not exist');\n  }\n  data.initialState.columns.columnVisibilityModel[groupingField] = false;\n  for (let i = 0; i < rowsCount; i += 1) {\n    const row = data.rows[i];\n    const currentChunk = Math.floor(i * (averageChildren ** maxDepth - 1) / rowsCount) + 1;\n    const currentDepth = Math.floor(Math.log(currentChunk) / Math.log(averageChildren));\n    if (!rowsByTreeDepth[currentDepth]) {\n      rowsByTreeDepth[currentDepth] = {\n        rows: {},\n        rowIndexes: []\n      };\n    }\n    rowsByTreeDepth[currentDepth].rows[i] = {\n      value: row,\n      parentIndex: null\n    };\n    rowsByTreeDepth[currentDepth].rowIndexes.push(i);\n  }\n  Object.entries(rowsByTreeDepth).forEach(([depthStr, {\n    rows\n  }]) => {\n    const depth = Number(depthStr);\n    Object.values(rows).forEach(row => {\n      const path = [];\n      let previousRow = null;\n      for (let k = depth; k >= 0; k -= 1) {\n        let rowTemp;\n        if (k === depth) {\n          if (depth > 0) {\n            row.parentIndex = Number(randomArrayItem(rowsByTreeDepth[depth - 1].rowIndexes));\n          }\n          rowTemp = row;\n        } else {\n          rowTemp = rowsByTreeDepth[k].rows[previousRow.parentIndex];\n        }\n        path.unshift(rowTemp.value[groupingField]);\n        previousRow = rowTemp;\n      }\n      row.value.path = path;\n    });\n  });\n  return _extends({}, data, {\n    groupingColDef: {\n      headerName: (_groupingCol$headerNa = groupingCol.headerName) != null ? _groupingCol$headerNa : groupingCol.field,\n      width: 250\n    },\n    getTreeDataPath: row => row.path,\n    treeData: true\n  });\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}