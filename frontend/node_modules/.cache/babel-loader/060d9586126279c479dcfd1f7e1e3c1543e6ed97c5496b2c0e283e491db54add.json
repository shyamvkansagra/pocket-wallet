{"ast":null,"code":"import _slicedToArray from\"/Users/shyamkansagra/Documents/Code/general/pocket-wallet/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/Users/shyamkansagra/Documents/Code/general/pocket-wallet/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import axios from'axios';import{Box,Card,CardContent,Typography,TextField,Button,Snackbar}from'@mui/material';import MuiAlert from'@mui/material/Alert';import{setLocal}from\"../../utils/utils\";import\"./walletStyles.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Alert=/*#__PURE__*/React.forwardRef(function Alert(props,ref){return/*#__PURE__*/_jsx(MuiAlert,_objectSpread({elevation:6,ref:ref,variant:\"filled\"},props));});var SetWallet=function SetWallet(_ref){var setWalletId=_ref.setWalletId;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),balance=_useState4[0],setBalance=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isUserNameEmpty=_useState6[0],setIsUserNameEmpty=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),snackbarInfo=_useState8[0],setSnackbarInfo=_useState8[1];var submitWalletData=function submitWalletData(){if(!userName){setSnackbarInfo({open:true,severity:\"error\",message:\"Please fill all required data\"});return;}axios.post(\"/setup\",{userName:userName,balance:+balance}).then(function(d){var resData=d.data;if(resData.code===200){setLocal(\"walletId\",resData.data._id);setWalletId(resData.data._id);setIsUserNameEmpty(false);}}).catch(function(){alert(\"Could not create wallet. Please try again\");});};var handleUserNameChange=function handleUserNameChange(e){setUserName(e.target.value);setIsUserNameEmpty(!e.target.value);};var handleBalanceChange=function handleBalanceChange(e){var balanceVal=e.target.value<0?0:e.target.value;setBalance(balanceVal);};var handleSnackbarClose=function handleSnackbarClose(){setSnackbarInfo(_objectSpread(_objectSpread({},snackbarInfo),{},{open:false}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"set-wallet-container\",children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Box,{sx:{width:\"auto\",minWidth:300},children:[/*#__PURE__*/_jsx(\"span\",{className:\"setup-form-heading\",children:/*#__PURE__*/_jsx(Typography,{children:\"Setup your wallet\"})}),/*#__PURE__*/_jsxs(CardContent,{sx:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,id:\"outlined-required\",label:\"Username\",onChange:handleUserNameChange,error:isUserNameEmpty,value:userName}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"outlined-required\",label:\"Initial Balance\",margin:\"normal\",type:\"number\",onChange:handleBalanceChange,inputProps:{min:0},value:balance}),/*#__PURE__*/_jsx(Button,{sx:{marginTop:\"20px\"},fullWidth:true,variant:\"contained\",onClick:function onClick(){submitWalletData();},children:\"Submit\"})]})]})})}),/*#__PURE__*/_jsx(Snackbar,{open:snackbarInfo.open,autoHideDuration:3000,onClose:handleSnackbarClose,children:/*#__PURE__*/_jsx(Alert,{onClose:handleSnackbarClose,severity:snackbarInfo.severity,sx:{width:'100%'},children:snackbarInfo.message})})]});};export default SetWallet;","map":{"version":3,"names":["React","useState","axios","Box","Card","CardContent","Typography","TextField","Button","Snackbar","MuiAlert","setLocal","jsx","_jsx","jsxs","_jsxs","Alert","forwardRef","props","ref","_objectSpread","elevation","variant","SetWallet","_ref","setWalletId","_useState","_useState2","_slicedToArray","userName","setUserName","_useState3","_useState4","balance","setBalance","_useState5","_useState6","isUserNameEmpty","setIsUserNameEmpty","_useState7","_useState8","snackbarInfo","setSnackbarInfo","submitWalletData","open","severity","message","post","then","d","resData","data","code","_id","catch","alert","handleUserNameChange","e","target","value","handleBalanceChange","balanceVal","handleSnackbarClose","className","children","sx","width","minWidth","display","flexDirection","alignItems","required","fullWidth","id","label","onChange","error","margin","type","inputProps","min","marginTop","onClick","autoHideDuration","onClose"],"sources":["/Users/shyamkansagra/Documents/Code/general/pocket-wallet/src/components/Wallet/SetWallet.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from 'axios';\nimport {\n\tBox,\n\tCard,\n\tCardContent,\n\tTypography,\n\tTextField,\n\tButton,\n\tSnackbar\n} from '@mui/material';\nimport MuiAlert from '@mui/material/Alert';\n\nimport { setLocal } from \"../../utils/utils\";\nimport \"./walletStyles.css\";\n\nconst Alert = React.forwardRef(function Alert(props, ref) {\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\nconst SetWallet = ({ setWalletId }) => {\n\tconst [userName, setUserName] = useState(\"\");\n\tconst [balance, setBalance] = useState(\"\");\n\tconst [isUserNameEmpty, setIsUserNameEmpty] = useState(false);\n\tconst [snackbarInfo, setSnackbarInfo] = useState({});\n\tconst submitWalletData = () => {\n\t\tif (!userName) {\n\t\t\tsetSnackbarInfo({\n\t\t\t\topen: true,\n\t\t\t\tseverity: \"error\",\n\t\t\t\tmessage: \"Please fill all required data\"\n\t\t\t})\n\t\t\treturn;\n\t\t}\n\t\taxios\n\t\t\t.post(\"/setup\", {\n\t\t\t\tuserName,\n\t\t\t\tbalance: +balance,\n\t\t\t})\n\t\t\t.then(function (d) {\n\t\t\t\tconst resData = d.data;\n\t\t\t\tif (resData.code === 200) {\n\t\t\t\t\tsetLocal(\"walletId\", resData.data._id);\n\t\t\t\t\tsetWalletId(resData.data._id);\n\t\t\t\t\tsetIsUserNameEmpty(false);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function () {\n\t\t\t\talert(\"Could not create wallet. Please try again\");\n\t\t\t});\n\t}\n\tconst handleUserNameChange = (e) => {\n\t\tsetUserName(e.target.value);\n\t\tsetIsUserNameEmpty(!e.target.value);\n\t}\n\tconst handleBalanceChange = (e) => {\n\t\tconst balanceVal = e.target.value < 0 ? 0 : e.target.value;\n\t\tsetBalance(balanceVal);\n\t}\n\tconst handleSnackbarClose = () => {\n\t\tsetSnackbarInfo({ ...snackbarInfo, open: false });\n\t}\n\t\n\treturn (\n\t\t<div className=\"set-wallet-container\">\n\t\t\t<Card>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\twidth: \"auto\",\n\t\t\t\t\t\t\tminWidth: 300,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span className=\"setup-form-heading\">\n\t\t\t\t\t\t\t<Typography>Setup your wallet</Typography>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<CardContent sx={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tid=\"outlined-required\"\n\t\t\t\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\t\t\t\tonChange={handleUserNameChange}\n\t\t\t\t\t\t\t\terror={isUserNameEmpty}\n\t\t\t\t\t\t\t\tvalue={userName}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tid=\"outlined-required\"\n\t\t\t\t\t\t\t\tlabel=\"Initial Balance\"\n\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tonChange={handleBalanceChange}\n\t\t\t\t\t\t\t\tinputProps={{min: 0}}\n\t\t\t\t\t\t\t\tvalue={balance}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsx={{ marginTop: \"20px\" }}\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsubmitWalletData();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>Submit</Button>\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Box>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t\t<Snackbar open={snackbarInfo.open} autoHideDuration={3000} onClose={handleSnackbarClose}>\n\t\t\t\t<Alert onClose={handleSnackbarClose} severity={snackbarInfo.severity} sx={{ width: '100%' }}>\n          {snackbarInfo.message}\n        </Alert>\n      </Snackbar>\n\t\t</div>\n\t);\n}\n\nexport default SetWallet;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}